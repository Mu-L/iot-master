{
  "title": "编辑协议配置",
  "template": "form",
  "toolbar": [
    {
      "type": "button",
      "label": "导出JSON",
      "action": {
        "type": "script",
        "script": "this.export_json(this.editor.values, 'product-config-' + this.params.product + '-' + this.params.config)"
      }
    },
    {
      "type": "button",
      "label": "导入JSON",
      "action": {
        "type": "script",
        "script": "this.import_json().then(data=>this.editor.values = data)"
      }
    }
  ],
  "fields": [
  ],
  "load_api": "iot/product/:product/config/:config",
  "submit_api": "iot/product/:product/config/:config",
  "submit_success": "this.navigate('/page/iot/product-detail?id='+data.id)",
  "mount": "this.load_config_form()",
  "methods": {
    "load_config_form": "this.request.get('iot/protocol/'+this.params.config).subscribe(res=>{this.content.fields = res.model})"
  }
}